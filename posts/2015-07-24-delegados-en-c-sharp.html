<!DOCTYPE html>
<html lang=""  itemscope itemtype="http://schema.org/Blog">
<head>
        <!–– Made with Lockdown: https://github.com/fferegrino/lockdown ––>
<meta charset="utf-8" />
<link rel="stylesheet" href="/css/main.css" />

        
</head>

<body>  
        <header class="site-header ui">
    <div class="wrapper menu">
      <nav class="site-nav">
        <a href="#" class="menu-icon">
          <svg viewBox="0 0 18 15">
            <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
            <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
            <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
          </svg>
        </a>
        <div class="trigger">
          <a class="link page-link" href="/">Home</a>
          <a class="link page-link" href="/about">About</a>
          <a class="link page-link" href="/search">Search</a>
        </div>
      </nav>
    </div>
    <div class="wrapper title">
      <div class="pure-g">
        <div class="pure-u-1-24 title-number"><span>1</span></div>
        <div class="pure-u-11-24 content-window">
          <a class="site-title" href="/">That C# guy</a>
        </div>
        <div class="pure-u-12-24 header-menu">
          <ul>
            <li class="datascience"><a href="/tag/data-science/">Data Science!</a></li>
            <li class="youtube"><a href="https://www.youtube.com/c/thatcsharpguy">YouTube<a></li>
            <li class="csharp"><a href="/tag/aprendecsharp/">Aprende C#</a></li>
            <li class="xamarin"><a href="/tag/xamarin/">Xamarin</a></li>
          </ul>
        </div>
      </div>
  
  </header>
        <div class="page-content">
            <div class="wrapper">
                
<h1></h1>

<p>Para comenzar la explicación debemos comprender qué es un delegado. Podemos ver un delegado en C# como un tipo de dato que apunta a un método permitiéndonos así extender las capacidades de nuestro código o permitir que otros lo hagan. La forma de declarar un delegado es de la siguiente manera: <code>&lt;modificador de acceso&gt; delegate &lt;tipo de retorno&gt; &lt;nombre del delegado&gt; (&lt;lista de parámetros&gt;)</code>. Podríamos, por ejemplo, tener un delegado que realice una operación con dos números enteros y devuelva un solo número entero. La defnición de este sería algo como:</p>
<pre><code class="language-csharp">public delegate int Operacion(int a, int b);
</code></pre>
<p>En ella, identificamos las partes:</p>
<ul>
<li><strong>public</strong>, el modificador de acceso</li>
<li><strong>delegate</strong> la palabra clave para indicar que se trata de un delegado</li>
<li><strong>int</strong>, el tipo de retorno</li>
<li><strong>Operacion</strong>, el nombre del delegado</li>
<li><strong>int a</strong> e <strong>int b</strong>, los parámetros de entrada</li>
</ul>
<h4 id="instanciacion">Instanciación</h4>
<p>Ahora la parte interesante, porque seguramente te preguntas: ¿cómo instancío un delegado? y ¿cómo defino el comportamiento de un delegado? Como mencioné arriba, el delegado es en cierta manera un apuntador a un método, luego entonces supongamos que tenemos varios métodos que comparten el mismo tipo de retorno y lista de parámetros que nuestro delegado. Para el ejemplo, tomemos los siguientes métodos:</p>
<pre><code class="language-csharp">public static int Suma(int a, int b) 
{
	Console.WriteLine (&quot;Ejecutando Suma&quot;);
	return a + b;
}
 
public static int Resta(int r, int t) 
{
	Console.WriteLine (&quot;Ejecutando Resta&quot;);
	return r - t;
}
 
public static int Multiplicacion(int x, int y) 
{
	Console.WriteLine (&quot;Ejecutando Multiplicacion&quot;);
	return x * y;
}
</code></pre>
<p>Podemos ver que no importa el nombre del método ni de el de los parámetros que recibe. A partir de ellos se puede instanciar los delegados, para ello debemos utilizar el operador <code>new</code> seguido del nombre de nuestro delegado y como parámetro el método al que este &quot;apunta&quot;. Para muestra:</p>
<pre><code class="language-csharp">public static void Main()
{
	Operacion mas = new Operacion(Suma);
	Operacion menos = new Operacion (Resta);
	Operacion por = new Operacion (Multiplicacion);
</code></pre>
<h4 id="ejecucion">Ejecución</h4>
<p>Para ejecutarlo basta con llamarlo como habitualmente llamaríamos al método al que hace referencia, es decir, el nombre asignado a la &quot;variable&quot; del tipo delegado y entre paréntesis la lista de parámetros, para este ejemplo los usaríamos de esta manera:</p>
<pre><code class="language-csharp">	// 
	int r1 = mas(4,5); // r1 es igual a 9
	int r2 = menos(4,5); // r2 es igual a -1
	int r3 = por(4,5); // r3 es igual a 20
	//
</code></pre>
<h4 id="combinacion">Combinación</h4>
<p>Otra función útil de los delegados es la posiblidad de combinarlos, lo cual se realiza mediante el operador <code>+=</code>. Es confuso decir combinarlos, dado que la combinación es en realidad un tipo de encolamiento, haciéndo que se ejecute uno tras de otro, pero de manera independiente.</p>
<pre><code class="language-csharp">	// 
	Operacion combinado = mas;
	combinado += por; // combinación con el operador +=
	
	int r4 = combinado(4,5); // r4 es igual a 20
}
</code></pre>
<p>De ejecutarse el código anterior, en la consola se vería el texto: &quot;Ejecutando Suma&quot; seguido de &quot;Ejecutando Multiplicacion&quot; ya que ambos se ejecutan y el valor de <code>r4</code> es <code>20</code> porque siempre se respeta el valor devuelto por el último delegado ejecutado.</p>
<h4 id="pasos-siguientes">Pasos siguientes</h4>
<p>C# nos otorga plantillas para crear delegados con una serie personalizable de parámetros de entrada y de salida, a estos se les conoce como <code>Func</code> y <code>Action</code>, pero de ellos les hablaré en el siguiente post. Recuerda que el código de este post está disponible para que lo descargues, lo edites y juegues con él, búscalo en la <a href="#post-meta">información del post</a></p>


            </div>
          </div>
        
</body>
</html>
