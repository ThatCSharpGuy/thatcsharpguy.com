<!DOCTYPE html>
<html lang=""  itemscope itemtype="http://schema.org/Blog">
<head>
        <!–– Made with Lockdown: https://github.com/fferegrino/lockdown ––>
<meta charset="utf-8" />
<link rel="stylesheet" href="/css/main.css" />

        
</head>

<body>  
        <header class="site-header ui">
    <div class="wrapper menu">
      <nav class="site-nav">
        <a href="#" class="menu-icon">
          <svg viewBox="0 0 18 15">
            <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
            <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
            <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
          </svg>
        </a>
        <div class="trigger">
          <a class="link page-link" href="/">Home</a>
          <a class="link page-link" href="/about">About</a>
          <a class="link page-link" href="/search">Search</a>
        </div>
      </nav>
    </div>
    <div class="wrapper title">
      <div class="pure-g">
        <div class="pure-u-1-24 title-number"><span>1</span></div>
        <div class="pure-u-11-24 content-window">
          <a class="site-title" href="/">That C# guy</a>
        </div>
        <div class="pure-u-12-24 header-menu">
          <ul>
            <li class="datascience"><a href="/tag/data-science/">Data Science!</a></li>
            <li class="youtube"><a href="https://www.youtube.com/c/thatcsharpguy">YouTube<a></li>
            <li class="csharp"><a href="/tag/aprendecsharp/">Aprende C#</a></li>
            <li class="xamarin"><a href="/tag/xamarin/">Xamarin</a></li>
          </ul>
        </div>
      </div>
  
  </header>
        <div class="page-content">
            <div class="wrapper">
                
<h1></h1>

<p>Como programadores hay muchas ventajas que nos otorga C#, ya sea a la hora de escribir nuestros programas o a la hora de ponerlos a funcionar. En este post les voy a hablar acerca de una de las ventajas al escribir nuestros programas, pero para eso, veamos antes este código:</p>
<pre><code class="language-csharp">var numeroElementos = 5;
var otroNumero = 5L;
var nombre = &quot;Paquito&quot;;
var x = nombre + numeroElementos;
var y = numeroElementos + otroNumero;
var sb =  new StringBuilder();
var buenEstudiante =  new Persona(&quot;Estudiante&quot;);
</code></pre>
<p><strong>¿Uhhhh?</strong> ¿entonces qué significa <code>var</code>?</p>
<h3 id="var">var</h3>
<p>Pues bien, usar la palabra <strike>reservada</strike> <code>var</code> significa que estamos dejándole al compilador la tarea de asignar un tipo a nuestras variables. Llamamos a esto <em>tipado implícito</em>, así nos quitamos de encima la tarea de escribir los tipos completos. Entonces:</p>
<ul>
<li><code>var numeroElementos = 5;</code> → <code>int numeroElementos = 5;</code></li>
<li><code>var otroNumero = 5l;</code> → <code>long otroNumero = 5l;</code></li>
<li><code>var nombre = &quot;Paquito&quot;;</code> → <code>string nombre = &quot;Paquito&quot;;</code><br />
<br /></li>
</ul>
<p>Pero no solo eso, también podemos usar <code>var</code> para instanciaciones un poco más complejas:</p>
<ul>
<li><code>nombre + numeroElementos</code> es <code>string + int</code> que resulta en <code>string</code>, por lo tanto tambièn pudimos haber escrito: <code>string x = nombre + numeroElementos;</code></li>
<li><code>numeroElementos + otroNumero</code> es <code>int + long</code> que resulta en <code>long</code>, por lo tanto también pudimos haber escrito <code>long y = numeroElementos + otroNumero</code><br />
<br /></li>
</ul>
<p>Tambén podríamos pensar que <code>var</code> funciona solo para tipos primitivos del lenguaje, sin embargo no es así, como lo demuestra:</p>
<ul>
<li><code>var buenEstudiante = new Persona(&quot;Estudiante&quot;)</code> en la que podemos reemplazar <code>var</code> por <code>Persona</code>, o</li>
<li><code>var sb = new StringBuilder();</code> en la que puede ser reemplazada por <code>StringBuilder</code></li>
</ul>
<h3 id="casos-especiales">Casos especiales</h3>
<p>Si bien es posible usar <code>var</code> para cualquier instanciación de una variable como en los casos anteriores, no es común usarla ya que a lo mucho nos está ahorrando algunas letras por cada variable. Sin embargo hay casos en los que su uso se vuelve bastante relevante y hasta necesario.<br />
<br />
Un caso en el que es bastánte práctico usarlo es cuando estamos trabajando con LINQ (LINQ es un tema que merece su propio post, y lo tendrá), ya que muchas veces no es tan claro el resultado de una sentencia LINQ, por lo tanto es común encontrar declaraciones como:</p>
<pre><code class="language-csharp">var listaMenores = personas.Where(p =&gt; p.Edad &lt; 10).ToList();

var listaMayores = from p in personas
				   where p.Edad &gt; 10
				   select p;
</code></pre>
<p>Un caso en el que es <strong>completamente necesario</strong> el uso de <code>var</code> es cuando dentro de nuestro código usamos tipos anónimos, en pocas palabras un tipo anónimo es un objeto creado &quot;al vuelo&quot; sin declarar una clase. Aunque estos, al igual que LINQ, merecen su propio post (que también haré).</p>
<h3 id="limitaciones">Limitaciones</h3>
<p>El <em>tipado implícito</em> tiene algunas limitantes, una de ellas parecería ser bastante obvia, y esta es que no se puede escribir una declaración como:</p>
<pre><code class="language-csharp">var indeciso = null;
</code></pre>
<p>Ya que el compilador no puede inferir el tipo de <code>null</code>, si lo intentamos obtendremos un bonito error de compilación.
La segunda limitante es que únicamente podemos usar <code>var</code> para variables locales, es decir, únicamente dentro de la implementación de nuestros métodos. En otras palabras, no podemos hacer algo como:</p>
<pre><code class="language-csharp">class Persona 
{
	var Edad = 10;
	
	public Persona( // ...
</code></pre>
<h3 id="desventajas">Desventajas</h3>
<p>La única gran desventaja que veo en esta caracterísitca es que si se abusa de ellos y en combinación con tipos de dato complejos podemos escribir código potencialmente inentendible, al grado que ni nosotros mismos podamos entender lo que escribimos.<br />
Personalmente siempre uso <code>var</code> para declaraciones de tipos de dato simples como enteros o cadenas.</p>
<h3 id="importante">Importante</h3>
<p>Es importante repetir esto: <strong>C# sigue siendo fuertemente tipado, con var lo único que hacemos es dejarle la tarea al compilador de asignar un tipo para nuestra variable al momento de la compilación</strong>.<br />
<br />
En el post original había mencionado que <code>var</code> es una palabra reservada, cuando en realdad, no lo es. Depende del contexto.</p>
<h3 id="lo-que-sigue">Lo que sigue</h3>
<p>En este post hablamos de dos nuevos conceptos: LINQ y tipos anónimos, y sobre uno de ellos dos será el post siguiente, ¿tienes preferencia sobre alguno? házmelo saber vía <a href="https://twitter.com/intent/tweet?text=@io_exception">Twitter</a> o por <a href="mailto:?subject=">correo electrónico</a>.</p>


            </div>
          </div>
        
</body>
</html>
