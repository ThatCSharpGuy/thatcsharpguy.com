<!DOCTYPE html>
<html lang=""  itemscope itemtype="http://schema.org/Blog">
<head>
        <!–– Made with Lockdown: https://github.com/fferegrino/lockdown ––>
<meta charset="utf-8" />
<link rel="stylesheet" href="/css/main.css" />

        
</head>

<body>  
        <header class="site-header ui">
    <div class="wrapper menu">
      <nav class="site-nav">
        <a href="#" class="menu-icon">
          <svg viewBox="0 0 18 15">
            <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
            <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
            <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
          </svg>
        </a>
        <div class="trigger">
          <a class="link page-link" href="/">Home</a>
          <a class="link page-link" href="/about">About</a>
          <a class="link page-link" href="/search">Search</a>
        </div>
      </nav>
    </div>
    <div class="wrapper title">
      <div class="pure-g">
        <div class="pure-u-1-24 title-number"><span>1</span></div>
        <div class="pure-u-11-24 content-window">
          <a class="site-title" href="/">That C# guy</a>
        </div>
        <div class="pure-u-12-24 header-menu">
          <ul>
            <li class="datascience"><a href="/tag/data-science/">Data Science!</a></li>
            <li class="youtube"><a href="https://www.youtube.com/c/thatcsharpguy">YouTube<a></li>
            <li class="csharp"><a href="/tag/aprendecsharp/">Aprende C#</a></li>
            <li class="xamarin"><a href="/tag/xamarin/">Xamarin</a></li>
          </ul>
        </div>
      </div>
  
  </header>
        <div class="page-content">
            <div class="wrapper">
                
<h1></h1>

<p>Creo que todos estamos de acuerdo en que Xamarin.Forms es fantástico... sin embargo no soluciona todos nuestros problemas cuando desarrollamos.</p>
<p>Una de las principales &quot;fallas&quot; es la falta de una forma avanzada de mostrar mensajes al usuario. Sí, sí, con Xamarin.Forms tenemos los métodos <code>DisplayAlert</code>:</p>
<pre><code class="language-csharp">await DisplayAlert(&quot;Traditional alert&quot;, &quot;Traditional message&quot;, &quot;It's not so cool&quot;);

var result = await DisplayAlert(&quot;Traditional alert&quot;, &quot;Traditional message?&quot;, &quot;OK&quot;, &quot;Cancel&quot;);
TraditionalPromptLabel.Text = string.Format(&quot;Result {0}&quot;, result);
</code></pre>
<p>Estos métodos solamente muestran un mensaje sencillo y permiten que el usuario responda con un valor booleano, y además requieren de tener una referencia a la página en la que queremos mostrar la alerta.</p>
<p>Es por eso que cuando queremos obtener más información de quien está usando nuesta app podemos recurrir a un paquete de NuGet que nos permitirá hacer operaciones como:</p>
<h2 id="mostrar-un-mensaje-toast">Mostrar un mensaje &quot;Toast&quot;</h2>
<p>Con <em>UserDialogs</em> podemos mostrar mensajes en varias plataformas de manera que en Android lo hacemos con la popular <code>Toast</code>:</p>
<pre><code class="language-csharp">UserDialogs.Instance.Toast(&quot;Toast message: &lt;3&quot;, TimeSpan.FromMilliseconds(millis));
</code></pre>
<p>&lt;img src=&quot;/images/xamarin-forms__userdialogs__toast.png&quot; title=<>Login prompt</> /&gt;</p>
<h2 id="mostrar-un-error">Mostrar un error</h2>
<pre><code class="language-csharp">UserDialogs.Instance.ShowError(&quot;¡Error!&quot;, millis);
</code></pre>
<h2 id="mostrar-un-mensaje-de-exito">Mostrar un mensaje de éxito</h2>
<pre><code class="language-csharp">UserDialogs.Instance.ShowSuccess(&quot;¡Éxito!&quot;, millis);
</code></pre>
<p>Pero no solo eso, también podemos recibir información a través de UserDialogs</p>
<h2 id="promptasync">PromptAsync</h2>
<p>Solicitar información del usuario, ya sea que estés buscando un nombre, un teléfono, un password...</p>
<pre><code class="language-csharp">var promptConfig = new PromptConfig();
promptConfig.InputType = InputType.Name;
promptConfig.IsCancellable = true;
promptConfig.Message = &quot;Write your name&quot;;
var result = await UserDialogs.Instance.PromptAsync(promptConfig);
if (result.Ok)
{
    PromptedTextLabel.Text = result.Text;
}
</code></pre>
<p>&lt;img src=&quot;/images/xamarin-forms__userdialogs__text.png&quot; title=<>Text prompt</> /&gt;</p>
<h2 id="promptdateasync">PromptDateAsync</h2>
<p>Solicitar una fecha, presentando un control muy familiar dependiendo de la plataforma en que se ejecute:</p>
<pre><code class="language-csharp">var result = await UserDialogs.Instance.DatePromptAsync(
    &quot;Select date&quot;,
    DateTime.Now);
if (result.Ok)
    SelectedDateLabel.Text = String.Format(&quot;{0:dd MMMM yyyy}&quot;, result.SelectedDate);
</code></pre>
<p>&lt;img src=&quot;/images/xamarin-forms__userdialogs__calendar.png&quot; title=<>Calendar prompt</> /&gt;</p>
<h2 id="prompttimeasync">PromptTimeAsync</h2>
<p>Al igual que con la fecha, este diálogo presenta un contol para seleccionar una hora</p>
<pre><code class="language-csharp">var result = await UserDialogs.Instance.TimePromptAsync(
    &quot;Select time&quot;,
    DateTime.Now.TimeOfDay);
if (result.Ok)
    SelectedTimeLabel.Text = String.Format(&quot;{0:hh-mm}&quot;, new DateTime(result.SelectedTime.Ticks));
</code></pre>
<p>&lt;img src=&quot;/images/xamarin-forms__userdialogs__time.png&quot; title=<>Time prompt</> /&gt;</p>
<h2 id="promptloginasync">PromptLoginAsync</h2>
<p>Si quieres algo un poco más compuesto como una &quot;pantalla&quot; de <em>login</em>, también puedes usar esta pequeña librería:</p>
<pre><code class="language-csharp">var loginResult = await UserDialogs.Instance.LoginAsync(&quot;Login&quot;, &quot;Please sign in&quot;);
if (loginResult.Ok)
{
    PromptedLoginLabel.Text = String.Format(&quot;{0}:{1}&quot;, loginResult.Value.UserName, loginResult.Value.Password);
}
</code></pre>
<p>&lt;img src=&quot;/images/xamarin-forms__userdialogs__login.png&quot; title=<>Login prompt</> /&gt;</p>
<h2 id="inyeccion-de-dependencias">Inyección de dependencias</h2>
<p>Como mencioné anteriormente el mecanismo de diálogos que provee Forms por default requieren de tener una referencia a la página en la que estamos trabajando, sin embargo <em>UserDialogs</em> no, y eso lo hace ideal para usarlo en conjunto con una solución de <a href="http://thatcsharpguy.com/tv/inyeccion-dependencias/" target="_blank">inyección de dependencias</a>.</p>
<h2 id="personalizacion">Personalización</h2>
<p>En este post mostré únicamente las opciones más sencillas de esta librería, sin embargo también podemos personalizarla casi tanto como deseamos, es por eso que te propongo que <a href="https://github.com/ThatCSharpGuy/UserDialogs-Sample" target="_blank">descargues el código</a> de ejemplo y practiques con él.</p>
<h1 id="instalacion">Instalación</h1>
<p>Como siempre, hay que buscar en el gestor de paquetes de NuGet: <code>Acr.UserDialogs</code></p>
<p>O desde la consola:</p>
<pre><code>PM&gt; Install-Package Acr.UserDialogs
</code></pre>
<p>Recuerda que si lo usas en Xamarin.Forms debes instalar Acr.UserDialogs en todos tus proyectos (núcleo y clientes) para que funcione correctamente.</p>


            </div>
          </div>
        
</body>
</html>
